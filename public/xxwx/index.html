<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>量大通行码</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			list-style: none;
		}
		.img-ctn {
			width: 1080px;
			height: 2107px;
			background-image: url(./1.png);
			position: relative;
		}
		.info {
			position: absolute;
			left: 80px;
			top: 192px;
		}
		.info ul li {
			font-size: 44px;
			font-weight: 700;
			line-height: 1;
			margin-bottom: 22px;
			color: #000000;
			font-family: -webkit-pictograph;
		}

		.time {
			position: absolute;
			/*top: 456px;*/
			top: 476px;
			left: 0;
			width: 100%;
		}
		.time p {
			font-size: 100px;
			line-height: 1;
			font-weight: 700;
			text-align: center;
			font-family: -webkit-pictograph;
		}
		.time p span {
			font-family: 'normal;'
		}
		.form,
		.form input,
		.form button {
			font-size: 44px;
		}

	</style>
</head>
<body>
	
	<div class="img-ctn">
		<div class="info">
			<ul>
				<li>姓名：<span id="name">张鑫</span></li>
				<li>学院：<span id="school">软件学院</span></li>
				<li>班级：<span id="className">2018</span></li>
			</ul>
		</div>
		<div class="time">
			<p id="time1">8月10日</p>
			<p id="time2" style="margin-top: -10px;">12:37:51</p>
		</div>
	</div>
	<div class="form">
		<p>姓名：<input type="text" id="nameval" ></p>
		<p>学院：<input type="text" id="schoolval"></p>
		<p>班级：<input type="text" id="classval"></p>
		<button id="sureBtn">确定</button>
	</div>
<script>
function addZero (a) {
	return a < 10 ? '0' + a : a
}
const $ = a => document.querySelector(a)
function trans () {
	const date = new Date();
	$('#time1').innerHTML = (date.getMonth() + 1) + '<span>月</span>' + date.getDate() + '<span>日</span>'
	$('#time2').innerHTML = addZero(date.getHours())+':'+addZero(date.getMinutes())+':'+addZero(date.getSeconds())
}






// 设置基本信息
function setinfo () {
	$('#name').innerHTML = localStorage.getItem("name");
	$('#school').innerHTML = localStorage.getItem("school");
	$('#className').innerHTML = localStorage.getItem("className");
}


$('#sureBtn').addEventListener('click', () => {
	$('.img-ctn').style.display = 'block';
	localStorage.setItem("name", $('#nameval').value);
	localStorage.setItem("school", $('#schoolval').value);
	localStorage.setItem("className", $('#classval').value);
	setinfo();
})

startFnc()
function startFnc () {
	if (localStorage.getItem('name')) {
		setinfo();
		$('.img-ctn').style.display = 'block';
	} else {
		$('.img-ctn').style.display = 'none';
	}
	trans()
	setInterval(function () {
		// trans()
	}, 1000)
}

</script>
</body>
</html>